# 角色配音准备 Skill

## 概述

这个 skill 通过 **AI 直接决策**的方式进行角色识别和音色分配，而不是使用自动化脚本。

## 工作流程

1. **阅读理解**：Claude 阅读章节内容，理解故事情节和角色关系
2. **角色识别**：基于上下文识别主角、配角和次要角色
3. **音色选择**：根据角色性格从 `configs/voices.json` 中选择合适的音色
4. **手动创建**：直接创建 JSON 文件，包含详细的分配理由

## 优势

相比自动化脚本：
- ✓ 更准确的角色识别（理解上下文，不会误判）
- ✓ 更合理的音色分配（基于性格特征，不是简单的性别匹配）
- ✓ 更灵活的决策（可以根据具体情况调整）
- ✓ 包含分配理由（便于理解和调整）

## 使用方法

```bash
claude-code /prepare-casting
```

Claude 会：
1. 读取 `source/01_extracted/chapters.json`
2. 读取 `configs/voices.json`
3. 分析角色并分配音色
4. 创建输出文件到 `source/02_casting/`

## 输出文件

### character_list.json
包含所有识别出的角色及其特征：
- 角色分类（主角/配角/次要角色）
- 性别、年龄段、性格描述
- 预估出现频率

### voice_mapping.json
包含角色到音色的映射：
- 每个角色的音色 ID 和名称
- 分配理由（说明为什么选择这个音色）

## 音色选择原则

1. **主角优先**：使用高质量 beta 版本音色
2. **性格匹配**：根据角色性格选择（霸道/温柔/成熟等）
3. **避免重复**：主要角色使用不同音色
4. **旁白专业**：使用播音员音色
5. **仅用普通话**：跳过粤语和英语音色

## 示例

对于小说《离婚后，我才知道前妻有多狠》：

- **周启明**（男主）→ 霸道青年音色-beta（自信霸道的性格）
- **沈知夏**（女主）→ 成熟女性音色-beta（职业女性，冷静理性）
- **赵建成**（老板）→ 沉稳高管（中年男性，有权威感）
- **李桂芳**（母亲）→ 热心大婶（强势母亲）

每个分配都有详细的理由说明。

## 注意事项

- 这个 skill 需要 Claude 仔细阅读章节内容，可能需要较长时间
- 输出的角色列表和音色映射可以手动调整
- 如果对分配不满意，可以直接编辑 JSON 文件
